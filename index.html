<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="./favicon.ico" type="image/x-icon" rel="icon">
    <title>准考证</title>
    <link rel="stylesheet" href="./css/index.css">
</head>

<body>
    <div class="changeContent">
        <div class="changeContent-item">
            <span>上传图片:</span>
            <input type="file" id='pic'>
        </div>
        <div class="changeContent-item">
            <span>名字:</span>
            <input type="text" id='name'>
        </div>
        <div class="changeContent-item">
            <span>性别:</span>
            <input type="text" id='sex'>
        </div>
        <div class="changeContent-item">
            <span>考点:</span>
            <input type="text" id='place'>
        </div>
    </div>
    <div class="main" id='drawNode'>
        <div class="main-container">
            <div class="main-body">
                <div class="main-body-title">2018年全国普通高校招生考试</div>
                <div class="main-body-sub-title">准考证</div>
                <div class="main-body-content">
                    <div class="main-body-content-left">
                        <img src="./images/touxiang.jpeg">
                    </div>
                    <div class="main-body-content-right">
                        <div class="main-body-content-right-item">
                            <span class="main-body-content-right-item-name">准考证号：1301300031</span>
                        </div>
                        <div class="main-body-content-right-item">
                            <span class="main-body-content-right-item-name first">姓名：李友杰</span>
                            <span class="main-body-content-right-item-name ">性别：男</span>
                        </div>
                        <div class="main-body-content-right-item">
                            <span class="main-body-content-right-item-name">考点：中山纪念中学</span>
                        </div>
                        <div class="main-body-content-right-item">
                            <span class="main-body-content-right-item-name first">考场：05</span>
                            <span class="main-body-content-right-item-name ">座位：20</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="main-middle">
                <div class="main-middle-item">
                    <div class="main-middle-item-name">
                        <span>日期</span>
                    </div>
                    <div class="main-middle-item-name">
                        <span>上午</span>
                    </div>
                    <div class="main-middle-item-name">
                        <span>下午</span>
                    </div>
                </div>
                <div class="main-middle-item">
                    <div class="main-middle-item-name">
                        <span>6月7日</span>
                    </div>
                    <div class="main-middle-item-name">
                        <div class="main">
                            <span class="sub">9:00-11:30</span>
                            <span class="sub">语文</span>
                        </div>
                    </div>
                    <div class="main-middle-item-name">
                        <div class="main">
                            <span class="sub">15:00-17:00</span>
                            <span class="sub">数学</span>
                        </div>
                    </div>
                </div>
                <div class="main-middle-item">
                    <div class="main-middle-item-name">
                        <span>6月8日</span>
                    </div>
                    <div class="main-middle-item-name">
                        <div class="main">
                            <span class="sub">9:00-11:30</span>
                            <span class="sub">理科综合</span>
                        </div>
                    </div>
                    <div class="main-middle-item-name">
                        <div class="main">
                            <span class="sub">15:00-17:00</span>
                            <span class="sub">英语</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="main-footer">
                <span class="name">1.此准考证不具备2018年高考考试使用资格</span>
                <span class="name">2.纯属好玩，不作它途</span>
            </div>
        </div>
    </div>
    <div class="button" id='draw'>转成图片</div>
</body>
<script src="./js/dom-to-image.min.js"></script>
<script>
    console.log(domtoimage)
    let node = document.getElementById('drawNode');
    let draw = document.getElementById('draw');
    draw.onclick = () => {
        domtoimage.toJpeg(node)
            .then((dataUrl) => {
                console.log(dataUrl)
                download(dataUrl, 'ticket')
            })
            .catch((error) => {
                console.error('something went wrong!', error);
            });
    }


    //文件自动下载
    function download(href, title) {
        const a = document.createElement('a');
        a.setAttribute('href', href);
        a.setAttribute('download', title);
        a.click();
    }
</script>

</html>